<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta
      content="minimum-scale=1.0, width=device-width, maximum-scale=1, user-scalable=no"
      name="viewport"
    />
    <!-- css -->
    <link href="./assets/css/index.css" rel="stylesheet" />
    <link href="./assets/css/menu.css" rel="stylesheet" />
    <link href="./assets/css/GodPower.css" rel="stylesheet" />

    <title>God's Power</title>
  </head>
  <body>
    <div id="menu">
      <div id="menu_panel">
        <h1>Menu</h1>
        <nav class="navbar">
          <a href="./3D_character.html">
            <div class="content">3D Character</div>
            <div class="light"></div>
            <div class="shadow"></div
          ></a>
          <a id="current_page" href="./GodPower.html">
            <div class="content">God's Power</div>
            <div class="light"></div>
            <div class="shadow"></div>
          </a>
          <a href="./game_tower_blocks.html">
            <div class="content">Tower Blocks</div>
            <div class="light"></div>
            <div class="shadow"></div>
          </a>
          <a href="./solar_system.html">
            <div class="content">Solar System</div>
            <div class="light"></div>
            <div class="shadow"></div>
          </a>
        </nav>
      </div>
      <div id="menu_btn">
        <svg
          id="close_menu_icon"
          onclick="closeMenu()"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="#000000"
        >
          <path d="M0 0h24v24H0V0z" fill="none" />
          <path
            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"
          />
        </svg>
        <svg
          id="open_menu_icon"
          onclick="openMenu()"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="#000000"
        >
          <path d="M0 0h24v24H0V0z" fill="none" />
          <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
        </svg>
      </div>
    </div>

    <div id="main">
      <h1>God's Power</h1>
      <nav>
        <span>You want to </span>
        <select id="select" onchange="updateAction(event)">
          <option value="action_slap" selected>slap someone</option>
          <option value="action_light">toggle the light</option>
        </select>
      </nav>
      <!-- light -->
      <div class="action action_light" onClick="toggleLight(event)">
        <div>
          <img class="on light_display" src="./assets/img/light/on.png" />
          <img class="off" src="./assets/img/light/off_1.png" />
          <img class="off" src="./assets/img/light/off_2.png" />
          <img class="off" src="./assets/img/light/off_3.png" />
        </div>
      </div>

      <!-- slap -->
      <div class="action action_slap action_display">
        <div id="frame">
          <!-- height of background is height of frame -->
          <img id="background" src="./assets/img/slap/2/background.jpg" />
          <img id="flipbook" src="./assets/img/slap/2/flipbook.png" />
        </div>
      </div>
    </div>
  </body>
  <script src="./assets/js/menu.js"></script>
  <script src="./assets/js/GodPower/slap/slideFlipBook.js"></script>
  <script src="./assets/js/GodPower/slap/slap.js"></script>
  <script src="./assets/js/GodPower/selectAction.js"></script>
  <script>
    const on = document.getElementsByClassName("on")[0];
    const off = document.getElementsByClassName("off");

    const toggleLight = (e) => {
      const currentLight = document.getElementsByClassName("light_display")[0];

      if (currentLight.classList.contains("on")) {
        document.getElementsByClassName("action_light")[0].style.cursor =
          "url('./assets/img/light/lightbulb_on.png'), auto";
        const random = getRandomInt(3);
        currentLight.classList.remove("light_display");

        off[random].classList.add("light_display");
      } else {
        document.getElementsByClassName("action_light")[0].style.cursor =
          "url('./assets/img/light/lightbulb_off.png'), auto";
        document
          .getElementsByClassName("light_display")[0]
          .classList.remove("light_display");

        on.classList.add("light_display");
      }
    };
    function getRandomInt(max) {
      return Math.floor(Math.random() * max);
    }
  </script>
</html>
